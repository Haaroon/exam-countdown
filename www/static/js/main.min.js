$("document").ready(function(){function e(e){var t=864e5,a=new Date,n=new Date(e),r=n.getTime()-a.getTime(),i=n.getDate()-a.getDate(),o=r/t;return Math.floor(o)===i?i:1>o>0&&1===i?1:Math.round(o)}function t(e){var t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a=["January","February","March","April","May","June","July","August","September","October","November","December"],n=t[e.getDay()],r=a[e.getMonth()],i=(e.getMinutes()<10?"0":"")+e.getMinutes();return n+", "+e.getDate()+" "+r+" "+e.getFullYear()+" "+e.getHours()+":"+i}function a(e,a){var n=new Date(a.timestamp),r="<p>"+a.venue+"</p>";a.googleMapsUrl&&(r="<p>"+a.venue+'<br/>(<a href="'+a.googleMapsUrl+'">Google Maps</a>)</p>');var i;i=0===a.timeDifference?"Today":1===a.timeDifference?"Tomorrow":-1===a.timeDifference?"did it yesterday":a.timeDifference<-1?"did it "+Math.abs(a.timeDifference)+" days ago":"in "+a.timeDifference+" days",e.append('<div class="exam"><h2>'+a.name.toUpperCase()+"</h2><p><strong>"+i+"</strong></p><p>"+t(n)+" BST</p>"+r+"</div>")}var n,r={ecs524u:{name:"Internet Protocols and Applications",timestamp:"2014-04-28T10:00:00+01:00",venue:"John Orwell Sports Centre",googleMapsUrl:"https://goo.gl/maps/Cw8dM"},ecs505u:{name:"Software Engineering",timestamp:"2014-05-06T14:30:00+01:00",venue:"Sports Hall"},ecs518u:{name:"Operating Systems",timestamp:"2014-05-08T14:30:00+01:00",venue:"BANC-113"},ecs522u:{name:"Graphical User Interfaces",timestamp:"2014-05-14T14:30:00+01:00",venue:"Octagon"},ecs519u:{name:"Database Systems",timestamp:"2014-05-16T10:00:00+01:00",venue:"Stratford Town Hall",googleMapsUrl:"https://goo.gl/maps/EcVmB"},ecs509u:{name:"Probability and Matrices",timestamp:"2014-05-19T14:30:00+01:00",venue:"John Orwell Sports Centre",googleMapsUrl:"https://goo.gl/maps/Cw8dM"},ecs510u:{name:"Algorithms and Data Structures in an Object-Oriented Framework",timestamp:"2014-05-23T10:00:00+01:00",venue:"Octagon"}},i=!0,o=[];for(var s in r)n=r[s],n.timeDifference=e(n.timestamp),n.timeDifference<0?o.unshift(n):i?(a($(".next-up"),n),i=!1):a($(".later"),n);if(o.length>0){$(".container").append('<div class="completed"></div>');for(var m=0;m<o.length;m++)n=o[m],a($(".completed"),n)}var u=new Trianglify({x_gradient:colorbrewer.BuPu[9],y_gradient:["#7CA1FF","#838eca"],noiseIntensity:0}),g=u.generate(document.body.clientWidth,document.body.clientHeight);document.body.setAttribute("style","background-image: "+g.dataUrl)});