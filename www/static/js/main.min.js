$("document").ready(function(){function e(e){var t=864e5,a=new Date,n=new Date(e),r=n.getTime()-a.getTime(),o=n.getDate()-a.getDate(),i=r/t;return Math.floor(i)===o?o:Math.floor(i)<0?Math.round(i):Math.floor(i)+1}function t(e){var t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a=["January","February","March","April","May","June","July","August","September","October","November","December"],n=t[e.getDay()],r=a[e.getMonth()];return n+", "+e.getDate()+" "+r+" "+e.getFullYear()}function a(e){var t=(e.getMinutes()<10?"0":"")+e.getMinutes();return e.getHours()+":"+t+" BST"}function n(e,n){var r=new Date(n.timestamp),o="<p>"+n.venue+"</p>";n.googleMapsUrl&&(o="<p>"+n.venue+'<br/>(<a href="'+n.googleMapsUrl+'">Google Maps</a>)</p>');var i;i=0===n.timeDifference?"Today":1===n.timeDifference?"Tomorrow":-1===n.timeDifference?"did it yesterday":n.timeDifference<-1?"did it "+Math.abs(n.timeDifference)+" days ago":"in "+n.timeDifference+" days",e.append('<div class="exam"><h2>'+n.name.toUpperCase()+"</h2><p><strong>"+i+"</strong></p><p>"+t(r)+"</p><p>"+a(r)+"</p>"+o+"</div>")}var r,o={ecs524u:{name:"Internet Protocols and Applications",timestamp:"2014-04-28T10:00:00+01:00",venue:"John Orwell Sports Centre",googleMapsUrl:"https://goo.gl/maps/Cw8dM"},ecs505u:{name:"Software Engineering",timestamp:"2014-05-06T14:30:00+01:00",venue:"Sports Hall"},ecs518u:{name:"Operating Systems",timestamp:"2014-05-08T14:30:00+01:00",venue:"BANC-113"},ecs522u:{name:"Graphical User Interfaces",timestamp:"2014-05-14T14:30:00+01:00",venue:"Octagon"},ecs519u:{name:"Database Systems",timestamp:"2014-05-16T10:00:00+01:00",venue:"Stratford Town Hall",googleMapsUrl:"https://goo.gl/maps/EcVmB"},ecs509u:{name:"Probability and Matrices",timestamp:"2014-05-19T14:30:00+01:00",venue:"John Orwell Sports Centre",googleMapsUrl:"https://goo.gl/maps/Cw8dM"},ecs510u:{name:"Algorithms and Data Structures in an Object-Oriented Framework",timestamp:"2014-05-23T10:00:00+01:00",venue:"Octagon"}},i=!0,s=[];for(var m in o)r=o[m],r.timeDifference=e(r.timestamp),r.timeDifference<0?s.unshift(r):i?(n($(".next-up"),r),i=!1):n($(".later"),r);if(s.length>0){$(".container").append('<div class="completed"></div>');for(var u=0;u<s.length;u++)r=s[u],n($(".completed"),r)}var l=new Trianglify({x_gradient:colorbrewer.BuPu[9],y_gradient:["#7CA1FF","#838eca"],noiseIntensity:0}),d=l.generate(document.body.clientWidth,document.body.clientHeight);document.body.setAttribute("style","background-image: "+d.dataUrl),7===s.length&&($(".container").empty(),$("body").addClass("allDone"),document.body.setAttribute("style","background-image: "))});